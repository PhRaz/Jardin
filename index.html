<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendrier des plantes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        td.details { font-size: 0.9em; color: #666; }

        @media (max-width: 767px) {
            #output thead { display: none; }
            #output tbody tr {
                display: flex;
                flex-wrap: wrap;
                border-bottom: 1px solid #dee2e6;
                padding: 0.5rem 0;
            }
            #output tbody tr td {
                border: none;
                padding: 0.15rem 0.5rem;
            }
            /* Ligne 1 : plante/mois + opération */
            #output tbody tr td:nth-child(1) { font-weight: bold; }
            #output tbody tr td:nth-child(2) { margin-left: auto; }
            /* Ligne 2 : détails + bouton */
            #output tbody tr td:nth-child(3) { width: 100%; order: 3; }
            #output tbody tr td:nth-child(4) { order: 4; width: 100%; text-align: right; padding-top: 0.25rem; }
        }
    </style>
</head>
<body>

<nav class="navbar navbar-dark bg-success mb-4">
    <div class="container">
        <span class="navbar-brand mb-0 h1">Calendrier des plantes</span>
    </div>
</nav>

<div class="container">
    <div class="row mb-3">
        <div class="col-auto">
            <label for="view" class="form-label fw-bold">Vue :</label>
            <select id="view" class="form-select">
                <option value="month">Par mois</option>
                <option value="plant">Par plante</option>
            </select>
        </div>

        <div class="col-auto" id="monthView" style="display:none;">
            <label for="month" class="form-label fw-bold">Mois :</label>
            <select id="month" class="form-select">
                <option value="1">Janvier</option>
                <option value="2">Février</option>
                <option value="3">Mars</option>
                <option value="4">Avril</option>
                <option value="5">Mai</option>
                <option value="6">Juin</option>
                <option value="7">Juillet</option>
                <option value="8">Août</option>
                <option value="9">Septembre</option>
                <option value="10">Octobre</option>
                <option value="11">Novembre</option>
                <option value="12">Décembre</option>
            </select>
        </div>

        <div class="col-auto" id="plantView" style="display:none;">
            <label for="plant" class="form-label fw-bold">Plante :</label>
            <select id="plant" class="form-select"></select>
        </div>
    </div>

    <div id="output"></div>
</div>

<!-- Modale détails plante -->
<div class="modal fade" id="plantModal" tabindex="-1" aria-labelledby="plantModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="plantModalLabel">Détails de la plante</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body" id="plantModalBody">
                <div class="text-center"><div class="spinner-border text-success" role="status"><span class="visually-hidden">Chargement...</span></div></div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="app.js"></script>

</body>
</html>
